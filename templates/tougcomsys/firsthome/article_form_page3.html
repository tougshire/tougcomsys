{% extends './_base.html' %}
{% load static %}

{% block content %}
    <script src='{% static 'touglates\touglates.js' %}'></script>
    <div class="form">
        {% if form.errors %}{{ form.errors }}{% endif %}
        <form id="frm_article" method="POST">
        {{ form.media }}
        {% csrf_token %}
        {% for field in form.hidden_fields %}
        {{ field }}
        {% endfor %}

        <div id="div_show_author">
            {% include 'touglates/form_field.html' with field=form.show_author label_tag=formshow_author.label_tag %}
        </div>
        <div id="div_show_updated">
            {% include 'touglates/form_field.html' with field=form.show_updated label_tag=formshow_updated.label_tag %}
        </div>
        {% include 'touglates/form_field.html' with label="Submit Form" field='<button type="submit">Save and Continue</button>' %}
    </form>
    </div>
    <script>
        addRelatedPopupButton( 'id_list_image', 'Image', '{% url 'tougcomsys:article_image_create' %}', editUrl='', addLabel='add', editLabel='edit' )
        addRelatedPopupButton( 'id_detail_image', 'Image', '{% url 'tougcomsys:article_image_create' %}', editUrl='', addLabel='add', editLabel='edit' )
        addRelatedPopupButton( 'id_featured_image', 'Image', '{% url 'tougcomsys:article_image_create' %}', editUrl='', addLabel='add', editLabel='edit' )
        function getControlIdsForPopups(modelName) {
            controlIds={
                'Image': ['id_list_image', 'id_detail_image', 'id_featured_image'],
            }
        return controlIds[modelName]
    }
  </script>

    </script>
{% endblock %}